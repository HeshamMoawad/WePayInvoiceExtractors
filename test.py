# cas = { 'AllowForRfpService': False, 'AllowToRecharge': False, 'AreaCode': '002', 'AssociatedTelephones': '00227038065', 'AssociatedTelephonesFormatted': '00227038065', 'CategoryIdValue': '54DEFC7260353AFB1D41086B607385F0', 'CategoryName': 'WE أرضي', 'DepositValue': 10.48, 'Frequency': 1, 'HasDeposit': True, 'HasMultibleTelephones': False, 'IsBusiness': False, 'PhoneNumber': '27038065', 'PinCodeReference': '', 'SignValue': '4A0B11419A29624DB3991B3473721C71'}
# t = {'Account': 'A4002323600'}

# cas['Account']=t["Account"]
# print(cas)
Account = {'BalanceDetailsSign': 'A8E7EAA896AC0E9C8217E86D1EB21F3B', 'CategoryIDClient': '54DEFC7260353AFB1D41086B607385F0', 'Customer': {'Account': 'A4002323600', 'AllowForRfpService': False, 'AllowToRecharge':False, 'AreaCode': '002', 'AssociatedTelephones': '00227038065', 'AssociatedTelephonesFormatted': '00227038065', 'CategoryIdValue': '54DEFC7260353AFB1D41086B607385F0', 'CategoryName': 'WE أرضي', 'DepositValue': 10.48, 'Frequency': 1, 'HasDeposit': True, 'HasMultibleTelephones': False, 'IsBusiness': False, 'PhoneNumber': '27038065', 'PinCodeReference': '', 'SignValue': '4A0B11419A29624DB3991B3473721C71'}, 'HasLoyalty': False, 'HasPreviousUnPaidInvoice': True, 'InquiryAreaCode': '002', 'InquiryByNewAndPhoneNotChanged': False, 'InquiryByOldAndPhoneChanged': False, 'InquiryPhoneNumber': '27038065', 'InquiryTelephoneNumber': None, 'Invoices': [{'AccountNo': 'A4002323600', 'AreaCode': '002', 'BeingPaidStatus': 0, 'BillDateClient': {'Day': 1, 'Hour': 0, 'Min': 0, 'Month': 6, 'Sec': 0, 'Year': 2022}, 'CategoryID': 78, 'ConsumptionEnd': {'Day': 30, 'Hour': 0, 'Min': 0, 'Month': 5, 'Sec': 0, 'Year': 2022}, 'ConsumptionStart': {'Day': 1, 'Hour': 0, 'Min': 0, 'Month': 3, 'Sec': 0, 'Year': 2022}, 'Frequency': 0, 'ID': 'A4002323600202207', 'InquiryDate': '0001-01-01T00:00:00', 'InvoiceDetails': None, 'PFlag': '0', 'PaymentCollectionType': {'ID': -1, 'Name': '', 'NameAr': '', 'NameEn': ''}, 'PaymentDate': None, 'PaymentDateClient': None, 'PaymentGateName': '', 'PaymentGateNameAr': '', 'PaymentGateNameEn': None, 'PenaltyDate': '2023-01-25T00:00:00', 'PhoneNumber': '27038065', 'PreviousUnPaidInvoices': None, 'Status': 0, 'SubscribtionEnd': {'Day': 30, 'Hour': 0, 'Min': 0, 'Month': 8, 'Sec': 0, 'Year': 2022}, 'SubscribtionStart': {'Day': 1, 'Hour': 0, 'Min': 0, 'Month': 6, 'Sec': 0, 'Year': 2022}, 'TotalAmount': 75.75}], 'PreviousUnPaidInvoices': None, 'RechargeSign': '', 'Status': 4, 'UnPaidInvoices': [{'AccountNo': 'A4002323600', 'AreaCode': '002', 'BeingPaidStatus': 0, 'BillDateClient': {'Day': 1, 'Hour': 0, 'Min': 0, 'Month': 6, 'Sec': 0, 'Year': 2022}, 'CategoryID': 78, 'ConsumptionEnd': {'Day': 30, 'Hour': 0, 'Min': 0, 'Month': 5, 'Sec': 0, 'Year': 2022}, 'ConsumptionStart': {'Day': 1, 'Hour': 0, 'Min': 0, 'Month': 3, 'Sec': 0, 'Year': 2022}, 'Frequency': 0, 'ID': 'A4002323600202207', 'InquiryDate': '0001-01-01T00:00:00', 'InvoiceDetails': None, 'PFlag': '0', 'PaymentCollectionType': {'ID': -1, 'Name': '', 'NameAr': '', 'NameEn': ''}, 'PaymentDate': None, 'PaymentDateClient': None, 'PaymentGateName': '', 'PaymentGateNameAr': '', 'PaymentGateNameEn': None, 'PenaltyDate': '2023-01-25T00:00:00', 'PhoneNumber': '27038065', 'PreviousUnPaidInvoices': None, 'Status': 0, 'SubscribtionEnd': {'Day': 30, 'Hour': 0, 'Min': 0, 'Month': 8, 'Sec': 0, 'Year': 2022}, 'SubscribtionStart': {'Day': 1, 'Hour': 0, 'Min': 0, 'Month': 6, 'Sec': 0, 'Year': 2022},'TotalAmount': 75.75}]}

Customer = {'Account': 'A4002323600', 'AllowForRfpService': False, 'AllowToRecharge': False, 'AreaCode':
'002', 'AssociatedTelephones': '00227038065', 'AssociatedTelephonesFormatted': '00227038065', 'CategoryIdValue': '54DEFC7260353AFB1D41086B607385F0', 'CategoryName': 'WE أرضي', 'DepositValue': 10.48, 'Frequency': 1, 'HasDeposit': True, 'HasMultibleTelephones': False, 'IsBusiness': False, 'PhoneNumber': '27038065', 'PinCodeReference': '', 'SignValue': '4A0B11419A29624DB3991B3473721C71'}


Invoice = [{'AccountNo': 'A4002323600', 'AreaCode': '002', 'BeingPaidStatus': 0, 'BillDateClient': {'Day': 1, 'Hour': 0, 'Min': 0, 'Month': 6, 'Sec': 0, 'Year': 2022}, 'CategoryID': 78, 'ConsumptionEnd': {'Day':
30, 'Hour': 0, 'Min': 0, 'Month': 5, 'Sec': 0, 'Year': 2022}, 'ConsumptionStart': {'Day': 1, 'Hour': 0, 'Min': 0, 'Month': 3, 'Sec': 0, 'Year': 2022}, 'Frequency': 0, 'ID': 'A4002323600202207', 'InquiryDate': '0001-01-01T00:00:00', 'InvoiceDetails': None, 'PFlag': '0', 'PaymentCollectionType': {'ID': -1, 'Name': '', 'NameAr': '', 'NameEn': ''}, 'PaymentDate': None, 'PaymentDateClient': None, 'PaymentGateName': '', 'PaymentGateNameAr': '', 'PaymentGateNameEn': None, 'PenaltyDate': '2023-01-25T00:00:00', 'PhoneNumber': '27038065',
'PreviousUnPaidInvoices': None, 'Status': 0, 'SubscribtionEnd': {'Day': 30, 'Hour': 0, 'Min': 0, 'Month': 8, 'Sec': 0, 'Year': 2022}, 'SubscribtionStart': {'Day': 1, 'Hour': 0, 'Min': 0, 'Month': 6, 'Sec': 0, 'Year': 2022}, 'TotalAmount': 75.75}]


# m = f"{Invoice[0]['BillDateClient']['Day']}-{Invoice[0]['BillDateClient']['Month']}-{Invoice[0]['BillDateClient']['Year']}"

# print(m)


# import datetime 
# print(f"{datetime.datetime.now().date()} | {datetime.datetime.now().hour}:{datetime.datetime.now().minute}")


# from openpyxl import load_workbook
# import pandas as pd

# import numpy as np

# h = [i for i in range(865)]
# print(len(h[::70]))

# l = np.array_split(h,len(h[::70]))
# print(l)
# print(len(l))

# m = 301.6271598339081
# print(round(m,ndigits=3))



# print([-1])
# oldindex = 0
# l = []

# for i in h[::7]:
#     #print(h[::7].index(i) == h[::7].index(h[::7][-1]))
#     if h[::7].index(i) == h[::7].index(h[::7][-1]):
#         print()#True
#         l.append(h[oldindex:])
#     else :
#         l.append(h[oldindex:i])
#     oldindex = i

# print((l))
#     last = len(h)

# print(last)

# print(h[0:7])
# print(h[7:14])








# Load workbook

# Access to a worksheet named 'no_header'

#ws = wb['Sheet1']

# Convert to DataFrame
#df = pd.DataFrame(ws.values)
#print(df.columns)


# def reshapeExelData(excelfile,sheetname):
#     wb = load_workbook(excelfile)
#     ws = wb[sheetname]
#     df = pd.DataFrame(ws.values)
#     response = []
#     for row in df.index:
#         res = (f"{df.iloc[row][0]}",f"{df.iloc[row][1]}")
#         print(res)
#         response.append(res)
#     return response



# h = reshapeExelData(excelfile="yas.xlsx",sheetname="Sheet1")
# print(h[1:])

# print(h)
# print(df)
# for row in df.index:
#     res = (f"{df.iloc[row][0]}",f"{df.iloc[row][1]}")
#     print(res)

# t = "123456789asd"
# m = "789as"
# print(m in t)

#  h = [f"{key} = '{value}'," for key,value in cas.items() ]
# h2 = ""
# (h2.join(h)[:-1])


# for i in range(10):
#     i = i

# print(i)


import requests
from urllib3.exceptions import InsecureRequestWarning
import urllib3

# urllib3.disable_warnings(InsecureRequestWarning)

# requests.packages.urllib3.disable_warnings(InsecureRequestWarning)

header = {
            'Accept': '*/*' , 
            'Accept-Encoding': 'gzip, deflate, br' ,
            'Accept-Language': 'en-US,en;q=0.9' ,
            'Connection': 'keep-alive' ,
            'Content-Length': '72' ,
            'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8' ,
            # 'Cookie': '_gcl_au=1.1.1941158367.1674685471; _ga=GA1.3.611413960.1656066340; culture=ar-EG; _ga=GA1.1.611413960.1656066340; _gid=GA1.3.1360456133.1675355746; f5avraaaaaaaaaaaaaaaa_session_=BCFCDMNLBBDLLINDENHOKKGDPADANDABEGDNLPABKLMEKJAILGFABEHBGKJPFFDIOCJDBINCEJFHDAMPLIKAOHNNNOADAALJBKJMKKNEFJIADILEFLAGAHHHCBGIHJNF; _gat_UA-6641213-30=1; _ga_233C94050H=GS1.1.1675355746.1.1.1675356717.0.0.0; token=19C3709479461F8A8FAC9733C120F6D22023020218512014FE0D070F1BAD3C20C2E27C9351D23A; TS016e6d92=010aa23b1d384e0603f1ae1fa36acf38943acc668eb68be4a12018132516b9d2ec8286690714726f4c013d1ec84f55e21e2c88a5bef7271df40909ac93401030ee7bb080eaa709d547f17d86335c0abfe55c2090845b4f4e05bc8f9e270181d0091264bfed' ,
            'Host': 'billing.te.eg' ,
            'Origin': 'https://billing.te.eg' ,
            'Referer': 'https://billing.te.eg/ar-EG' ,
            'sec-ch-ua': '"Not_A Brand";v="99", "Google Chrome";v="109", "Chromium";v="109"' ,
            'sec-ch-ua-mobile': '?0',
            'sec-ch-ua-platform': '"Windows"',
            'Sec-Fetch-Dest': 'empty' ,
            'Sec-Fetch-Mode': 'cors' ,
            'Sec-Fetch-Site': 'same-origin' ,
            'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36' ,
            'X-Requested-With': 'XMLHttpRequest' ,
        }

parmeters =  {'AreaCode': '02', 'PhoneNumber': '23230710', 'PinCode': '', 'InquiryBy': 'telephone', 'AccountNo': ''}








response = requests.post(
    url = 'https://billing.te.eg/api/Account/Inquiry',
    headers= header ,
    verify = False , 
    params= parmeters ,
    # cert = ,
    
    )
print(response.text)




#   Response must be like this ..
# response = {"Account":{"InquiryByNewAndPhoneNotChanged":false,"InquiryByOldAndPhoneChanged":false,"UnPaidInvoices":[{"ID":"A4010913702202301","AccountNo":"A4010913702","AreaCode":"002","PhoneNumber":"23230710","Frequency":0,"BillDateClient":{"Sec":0,"Min":0,"Hour":0,"Day":1,"Month":0,"Year":2023},"CategoryID":78,"InquiryDate":"0001-01-01T00:00:00","SubscribtionStart":{"Sec":0,"Min":0,"Hour":0,"Day":1,"Month":0,"Year":2023},"SubscribtionEnd":{"Sec":0,"Min":0,"Hour":0,"Day":31,"Month":2,"Year":2023},"ConsumptionStart":{"Sec":0,"Min":0,"Hour":0,"Day":1,"Month":9,"Year":2022},"ConsumptionEnd":{"Sec":0,"Min":0,"Hour":0,"Day":31,"Month":11,"Year":2022},"TotalAmount":77.5,"InvoiceDetails":null,"PaymentDateClient":null,"PaymentDate":null,"PenaltyDate":"2023-02-01T00:00:00","PaymentGateNameAr":"","PaymentGateNameEn":null,"PaymentGateName":"","PaymentCollectionType":{"ID":-1,"NameAr":"","NameEn":"","Name":""},"PFlag":"0","Status":0,"BeingPaidStatus":0,"PreviousUnPaidInvoices":null}],"HasPreviousUnPaidInvoice":true,"InquiryTelephoneNumber":null,"InquiryAreaCode":"002","InquiryPhoneNumber":"23230710","HasLoyalty":false,"RechargeSign":"","BalanceDetailsSign":"","CategoryIDClient":"54DEFC7260353AFB1D41086B607385F0","Status":4,"Customer":{"AreaCode":"002","PhoneNumber":"23230710","Account":"A4010913702","CategoryName":"WE أرضي","HasDeposit":false,"DepositValue":0.0,"Frequency":1,"CategoryIdValue":"54DEFC7260353AFB1D41086B607385F0","HasMultibleTelephones":false,"AssociatedTelephonesFormatted":"00223230710","AllowToRecharge":false,"IsBusiness":false,"AllowForRfpService":false,"PinCodeReference":"","AssociatedTelephones":"00223230710","SignValue":"9EC8CC94D96C9494EC85253D17469BF6"},"Invoices":[{"ID":"A4010913702202301","AccountNo":"A4010913702","AreaCode":"002","PhoneNumber":"23230710","Frequency":0,"BillDateClient":{"Sec":0,"Min":0,"Hour":0,"Day":1,"Month":0,"Year":2023},"CategoryID":78,"InquiryDate":"0001-01-01T00:00:00","SubscribtionStart":{"Sec":0,"Min":0,"Hour":0,"Day":1,"Month":0,"Year":2023},"SubscribtionEnd":{"Sec":0,"Min":0,"Hour":0,"Day":31,"Month":2,"Year":2023},"ConsumptionStart":{"Sec":0,"Min":0,"Hour":0,"Day":1,"Month":9,"Year":2022},"ConsumptionEnd":{"Sec":0,"Min":0,"Hour":0,"Day":31,"Month":11,"Year":2022},"TotalAmount":77.5,"InvoiceDetails":null,"PaymentDateClient":null,"PaymentDate":null,"PenaltyDate":"2023-02-01T00:00:00","PaymentGateNameAr":"","PaymentGateNameEn":null,"PaymentGateName":"","PaymentCollectionType":{"ID":-1,"NameAr":"","NameEn":"","Name":""},"PFlag":"0","Status":0,"BeingPaidStatus":0,"PreviousUnPaidInvoices":null}],"PreviousUnPaidInvoices":null},"UnPaidInvoices":"64607BB1222F902580117C3A321F741Dz1rkc0R2AUdZFMoHuCx7ulYH19aXf/xD+UmTQ8i1x/yFG0QZTAYInmO0KwM0FF7DoLDGh+YNpv/pFD0tWqTgr0wDNiy2J6yFqt4SYddUMFkLiyEjvJw/oAsS8id2AfQa","InfoMessage":null}